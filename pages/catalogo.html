<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nossos Passeios - VUMBORA</title>
  <meta name="description" content="Conheça todos os passeios e experiências incríveis que oferecemos em Natal/RN">
  <link href="../assets/css/style.css" rel="stylesheet">
  <link href="../assets/css/components.css" rel="stylesheet">
  <link href="../assets/css/sections.css" rel="stylesheet">
  <link href="../assets/css/passeios.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Header/Menu -->
  <div id="header"></div>

  <main>
    <div class="site-content">
      <!-- Seção de Catálogo -->
      <section id="catalogo-content"></section>
    </div>
  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Scripts -->
  <script src="../assets/js/includes.js"></script>
  <script src="../assets/js/main.js"></script>
  <script src="../assets/js/passeios.js"></script>

  <script>
    // Atualizar configuração de páginas no includes.js
    if (typeof PAGE_CONFIGS === 'undefined') {
      window.PAGE_CONFIGS = {};
    }
    PAGE_CONFIGS['catalogo.html'] = [
      { id: 'catalogo-content', path: '../sections/catalogo-content.html' }
    ];

    // Função para inicializar catálogo quando o conteúdo estiver pronto
    async function inicializarCatalogo() {
      const container = document.getElementById('catalogo-lista');

      // Aguardar até que o container exista (includes.js carregou o conteúdo)
      let tentativas = 0;
      while (!container && tentativas < 50) {
        await new Promise(resolve => setTimeout(resolve, 100));
        tentativas++;
      }

      if (container && typeof window.carregarCatalogoPasseios === 'function') {
        try {
          await window.carregarCatalogoPasseios();
          console.log('✅ Catálogo de passeios carregado!');
        } catch (error) {
          console.error('❌ Erro ao carregar catálogo:', error);
          if (container) {
            container.innerHTML = '<p class="no-results">Erro ao carregar passeios. Tente recarregar a página.</p>';
          }
        }
      } else {
        console.warn('⚠️ Container ou função de carregamento não encontrados');
      }
    }

    // Aguardar DOMContentLoaded e depois inicializar
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', inicializarCatalogo);
    } else {
      // DOM já carregado, aguardar um pouco para includes.js carregar
      setTimeout(inicializarCatalogo, 100);
    }
  </script>
</body>

</html>