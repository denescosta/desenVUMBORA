<section class="contact-page">
  <div class="container">
    <div class="contact-header">
      <h1 class="contact-title">Entre em Contato</h1>
      <p class="contact-subtitle">Estamos prontos para ajudar voc√™ a planejar sua viagem perfeita!</p>
    </div>

    <div class="contact-content">
      <!-- Formul√°rio de Contato -->
      <div class="contact-form-wrapper">
        <h2 class="section-title">Envie sua Mensagem</h2>
        <form id="contact-form" class="contact-form">
          <div class="form-group">
            <label for="nome">Nome Completo *</label>
            <input type="text" id="nome" name="nome" required placeholder="Seu nome completo">
          </div>

          <div class="form-group">
            <label for="email">E-mail *</label>
            <input type="email" id="email" name="email" required placeholder="seu@email.com">
          </div>

          <div class="form-group">
            <label for="telefone">Telefone/WhatsApp</label>
            <input type="tel" id="telefone" name="telefone" placeholder="(84) 99999-9999">
          </div>

          <div class="form-group">
            <label for="assunto">Assunto *</label>
            <select id="assunto" name="assunto" required>
              <option value="">Selecione um assunto</option>
              <option value="orcamento">Solicitar Or√ßamento</option>
              <option value="duvidas">D√∫vidas sobre Passeios</option>
              <option value="reserva">Reservar Passeio</option>
              <option value="outros">Outros</option>
            </select>
          </div>

          <div class="form-group">
            <label for="mensagem">Mensagem *</label>
            <textarea id="mensagem" name="mensagem" rows="6" required
              placeholder="Conte-nos como podemos ajudar voc√™..."></textarea>
          </div>

          <button type="submit" class="btn-submit">
            <span class="btn-text">Enviar Mensagem</span>
            <span class="btn-loading" style="display: none;">Enviando...</span>
          </button>

          <div id="form-message" class="form-message" style="display: none;"></div>
        </form>
      </div>

      <!-- Informa√ß√µes de Contato -->
      <div class="contact-info-wrapper">
        <h2 class="section-title">Nossas Informa√ß√µes</h2>
        <div class="contact-info">
          <div class="info-item">
            <div class="info-icon">üìß</div>
            <div class="info-content">
              <h3>E-mail</h3>
              <p><a href="#" data-contact-email>contato@vumbora.com.br</a></p>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon">üì±</div>
            <div class="info-content">
              <h3>WhatsApp</h3>
              <p><a href="#" id="contact-whatsapp-link" target="_blank" rel="noopener noreferrer"
                  data-contact-whatsapp>(84) 91274-7822</a></p>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon">üìç</div>
            <div class="info-content">
              <h3>Endere√ßo</h3>
              <p data-contact-address>Natal, Rio Grande do Norte, Brasil</p>
            </div>
          </div>
        </div>

        <div class="contact-social">
          <h3>Redes Sociais</h3>
          <div class="social-links">
            <a href="https://www.instagram.com/SEUINSTAGRAM" target="_blank" class="social-link"
              rel="noopener noreferrer">
              <span>üì∑</span> Instagram
            </a>
          </div>
        </div>

        <div class="contact-cta">
          <h3>Prefere falar diretamente?</h3>
          <p>Entre em contato pelo WhatsApp e receba uma resposta imediata!</p>
          <a href="#" id="whatsapp-contact-cta-link" class="cta-whatsapp-btn" target="_blank" rel="noopener noreferrer">
            <span>üí¨</span> Falar no WhatsApp
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Configurar links do WhatsApp na p√°gina de contato
  // Usa a mesma l√≥gica do header atrav√©s do config.js
  document.addEventListener('DOMContentLoaded', () => {
    // Aguardar um pouco para garantir que config.js foi carregado
    setTimeout(() => {
      // Configurar informa√ß√µes de contato
      if (typeof window.configurarInformacoesContato === 'function') {
        window.configurarInformacoesContato();
      }

      // Configurar links do WhatsApp (inclui o bot√£o CTA atrav√©s do config.js)
      if (typeof window.configurarLinksWhatsApp === 'function') {
        window.configurarLinksWhatsApp();
      }

      // Configurar link do WhatsApp na se√ß√£o de informa√ß√µes
      const contactWhatsappLink = document.getElementById('contact-whatsapp-link');
      if (contactWhatsappLink && window.WHATSAPP_NUMBER && window.WHATSAPP_MENSAGEM_GERAL && typeof window.getWhatsAppLink === 'function') {
        const whatsappUrl = window.getWhatsAppLink(window.WHATSAPP_MENSAGEM_GERAL);
        contactWhatsappLink.href = whatsappUrl;
        contactWhatsappLink.setAttribute('target', '_blank');
        contactWhatsappLink.setAttribute('rel', 'noopener noreferrer');
      }

      // Configurar link de email
      const emailLinks = document.querySelectorAll('[data-contact-email]');
      emailLinks.forEach(link => {
        if (link.tagName === 'A' && window.CONTACT_EMAIL) {
          link.href = `mailto:${window.CONTACT_EMAIL}`;
        }
      });
    }, 200);
  });

  // Envio do formul√°rio usando EmailJS
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contact-form');
    const formMessage = document.getElementById('form-message');
    const btnSubmit = form?.querySelector('.btn-submit');
    const btnText = btnSubmit?.querySelector('.btn-text');
    const btnLoading = btnSubmit?.querySelector('.btn-loading');

    if (!form) return;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Desabilitar bot√£o e mostrar loading
      if (btnSubmit) btnSubmit.disabled = true;
      if (btnText) btnText.style.display = 'none';
      if (btnLoading) btnLoading.style.display = 'inline';

      // Coletar dados do formul√°rio
      const formData = {
        nome: document.getElementById('nome').value,
        email: document.getElementById('email').value,
        telefone: document.getElementById('telefone').value || 'N√£o informado',
        assunto: document.getElementById('assunto').value,
        mensagem: document.getElementById('mensagem').value
      };

      try {
        // Enviar usando EmailJS
        if (typeof emailjs !== 'undefined') {
          await emailjs.send(
            'service_vumbora', // Service ID - ALTERE AQUI
            'template_contato', // Template ID - ALTERE AQUI
            {
              from_name: formData.nome,
              from_email: formData.email,
              phone: formData.telefone,
              subject: formData.assunto,
              message: formData.mensagem,
              to_email: window.CONTACT_EMAIL || 'contato@vumbora.com.br'
            }
          );

          // Sucesso
          formMessage.className = 'form-message form-message-success';
          formMessage.textContent = '‚úÖ Mensagem enviada com sucesso! Entraremos em contato em breve.';
          formMessage.style.display = 'block';
          form.reset();

          // Scroll para a mensagem
          formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        } else {
          throw new Error('EmailJS n√£o est√° carregado');
        }
      } catch (error) {
        console.error('Erro ao enviar formul√°rio:', error);
        formMessage.className = 'form-message form-message-error';
        formMessage.textContent = '‚ùå Erro ao enviar mensagem. Por favor, tente novamente ou entre em contato pelo WhatsApp.';
        formMessage.style.display = 'block';
        formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      } finally {
        // Reabilitar bot√£o
        if (btnSubmit) btnSubmit.disabled = false;
        if (btnText) btnText.style.display = 'inline';
        if (btnLoading) btnLoading.style.display = 'none';
      }
    });
  });
</script>